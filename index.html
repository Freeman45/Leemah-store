<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leemaah's Store | Albayas, Kitchen Utensils & Home Appliances</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@400;600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }
        
        :root {
            --primary: #9c27b0; 
            --primary-light: #d05ce3; 
            --primary-dark: #6a0080;
            --secondary: #ff9800; 
            --secondary-light: #ffc947; 
            --secondary-dark: #c66900;
            --accent: #e1bee7; 
            --light: #f8f4ff; 
            --dark: #2e003e; 
            --text: #333333;
            --success: #4caf50;
            --error: #f44336;
        }

        body { 
            font-family: 'Poppins', sans-serif; 
            color: var(--text); 
            background-color: var(--light); 
            line-height: 1.6; 
            padding-bottom: 60px; /* Space for heart button */
        }
        
        .container { 
            width: 90%; 
            max-width: 1200px; 
            margin: 0 auto; 
            padding: 0 15px; 
        }

        /* Header & Navigation */
        header { 
            background: white; 
            box-shadow: 0 2px 15px rgba(0,0,0,0.1); 
            position: sticky; 
            top: 0; 
            z-index: 1000; 
        }
        
        .header-container { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            padding: 10px 0; 
        }
        
        .logo { 
            display: flex; 
            align-items: center; 
            gap: 15px; 
        }
        
        .logo-img { 
            height: 60px; 
            width: auto;
            border-radius: 8px; 
            object-fit: contain;
        }
        
        .logo h1 { 
            font-family: 'Playfair Display', serif; 
            font-size: 1.8rem;
            color: var(--primary); 
        }
        
        .logo span { 
            color: var(--secondary); 
        }
        
        nav ul { 
            display: flex; 
            list-style: none; 
            gap: 30px; 
        }
        
        nav a { 
            text-decoration: none; 
            color: var(--dark); 
            font-weight: 500; 
            font-size: 1rem;
            transition: color 0.3s; 
            position: relative;
        }
        
        nav a:hover { 
            color: var(--primary); 
        }
        
        nav a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--primary);
            transition: width 0.3s;
        }
        
        nav a:hover::after {
            width: 100%;
        }

        /* Heart Button (Replaces Admin Lock Button) */
        .heart-admin-btn {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #ff4081;
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 999;
            box-shadow: 0 4px 20px rgba(255, 64, 129, 0.3);
            border: none;
            transition: all 0.3s ease;
        }
        
        .heart-admin-btn:hover {
            background-color: #f50057;
            transform: translateX(-50%) scale(1.1);
            box-shadow: 0 6px 25px rgba(245, 0, 87, 0.4);
        }
        
        .heart-admin-btn.active {
            background-color: var(--primary);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(156, 39, 176, 0.4); }
            70% { box-shadow: 0 0 0 15px rgba(156, 39, 176, 0); }
            100% { box-shadow: 0 0 0 0 rgba(156, 39, 176, 0); }
        }

        /* Admin Panel */
        #adminPanel { 
            display: none; 
            background: white; 
            padding: 25px; 
            border-bottom: 5px solid var(--primary); 
            box-shadow: 0 10px 30px rgba(0,0,0,0.2); 
            position: relative;
            z-index: 1001;
        }
        
        .admin-input { 
            width: 100%; 
            max-width: 500px;
            padding: 12px 15px; 
            margin: 10px 0; 
            border: 1px solid #ddd; 
            border-radius: 8px; 
            font-family: inherit;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        .admin-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(156, 39, 176, 0.1);
        }

        /* Hero Section */
        .hero { 
            background: linear-gradient(rgba(46,0,62,0.8), rgba(46,0,62,0.8)), url('https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80'); 
            background-size: cover;
            background-position: center;
            padding: 100px 0; 
            text-align: center; 
            color: white; 
        }
        
        .hero h2 {
            font-family: 'Playfair Display', serif;
            font-size: 3rem;
            margin-bottom: 20px;
            color: white;
        }
        
        .hero p {
            font-size: 1.2rem;
            margin-bottom: 30px;
            opacity: 0.9;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .btn { 
            background: var(--primary); 
            color: white; 
            padding: 12px 30px; 
            border-radius: 30px; 
            border: none; 
            cursor: pointer; 
            text-decoration: none; 
            display: inline-block; 
            font-weight: 500;
            transition: all 0.3s;
        }
        
        .btn:hover {
            background-color: var(--primary-dark);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .btn-whatsapp {
            background-color: #25D366;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn-whatsapp:hover {
            background-color: #128C7E;
        }

        /* WhatsApp Floating Button */
        .whatsapp-float { 
            position: fixed; 
            bottom: 30px; 
            right: 30px; 
            background: #25D366; 
            color: white; 
            width: 60px; 
            height: 60px; 
            border-radius: 50%; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-size: 2rem; 
            z-index: 1000;
            text-decoration: none;
            transition: all 0.3s;
            box-shadow: 0 4px 20px rgba(37, 211, 102, 0.3);
        }
        
        .whatsapp-float:hover {
            background-color: #128C7E;
            transform: scale(1.1);
        }

        /* Category Sections */
        .category-section { 
            padding: 80px 0; 
        }
        
        .category-section:nth-child(even) {
            background-color: white;
        }
        
        .category-section:nth-child(odd) {
            background-color: var(--light);
        }
        
        .section-title { 
            text-align: center; 
            margin-bottom: 50px; 
            position: relative;
        }
        
        .section-title h2 {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            display: inline-block;
            padding-bottom: 10px;
        }
        
        .section-title h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background-color: var(--secondary);
        }

        /* Product Grid & Cards */
        .product-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); 
            gap: 30px; 
            padding: 20px 0; 
        }
        
        .product-card { 
            background: white; 
            border-radius: 10px; 
            overflow: hidden; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.05); 
            position: relative; 
            transition: transform 0.3s, box-shadow 0.3s; 
            display: flex;
            flex-direction: column;
        }
        
        .product-card:hover { 
            transform: translateY(-10px); 
            box-shadow: 0 15px 30px rgba(0,0,0,0.1); 
        }
        
        .albaya-card {
            border-top: 5px solid var(--primary);
        }
        
        .kitchen-card {
            border-top: 5px solid var(--secondary);
        }
        
        .appliance-card {
            border-top: 5px solid var(--success);
        }
        
        .media-container { 
            height: 220px; 
            width: 100%; 
            overflow: hidden; 
            position: relative; 
        }
        
        .product-img, .product-video { 
            width: 100%; 
            height: 100%; 
            object-fit: cover; 
            transition: transform 0.5s;
        }
        
        .product-img {
            cursor: pointer;
        }
        
        .product-card:hover .product-img,
        .product-card:hover .product-video {
            transform: scale(1.05);
        }
        
        .video-icon {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
        }
        
        .product-content { 
            padding: 20px; 
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        
        .product-content h3 {
            font-size: 1.3rem;
            margin-bottom: 10px;
        }
        
        .product-content p {
            color: #666;
            margin-bottom: 15px;
            font-size: 0.95rem;
            flex-grow: 1;
        }
        
        .whatsapp-order-btn { 
            background: #25D366; 
            color: white; 
            padding: 10px 20px; 
            border-radius: 5px; 
            text-decoration: none; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            gap: 8px; 
            font-weight: 500;
            transition: all 0.3s;
            margin-top: 10px;
        }
        
        .whatsapp-order-btn:hover {
            background-color: #128C7E;
        }

        /* Admin Controls on Cards */
        .admin-controls { 
            position: absolute; 
            top: 10px; 
            left: 10px; 
            display: none; 
            gap: 5px; 
            z-index: 20; 
        }
        
        body.admin-mode .admin-controls { 
            display: flex; 
        }
        
        .ctrl-btn { 
            background: white; 
            border: none; 
            width: 32px; 
            height: 32px; 
            border-radius: 50%; 
            cursor: pointer; 
            box-shadow: 0 2px 8px rgba(0,0,0,0.2); 
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }
        
        .ctrl-btn:hover {
            transform: scale(1.1);
        }
        
        .edit-btn { 
            color: var(--primary); 
        }
        
        .edit-btn:hover {
            background-color: var(--primary);
            color: white;
        }
        
        .delete-btn { 
            color: var(--error); 
        }
        
        .delete-btn:hover {
            background-color: var(--error);
            color: white;
        }

        /* Modals */
        .image-modal { 
            display: none; 
            position: fixed; 
            z-index: 2000; 
            padding-top: 50px; 
            left: 0; 
            top: 0; 
            width: 100%; 
            height: 100%; 
            background: rgba(0,0,0,0.9); 
            text-align: center; 
            cursor: pointer;
        }
        
        .modal-content { 
            max-width: 90%; 
            max-height: 80vh; 
            border-radius: 5px; 
            animation: zoom 0.3s;
        }
        
        @keyframes zoom {
            from {transform: scale(0)}
            to {transform: scale(1)}
        }
        
        .close-modal { 
            position: absolute; 
            top: 20px; 
            right: 35px; 
            color: white; 
            font-size: 40px; 
            cursor: pointer; 
            transition: color 0.3s;
        }
        
        .close-modal:hover {
            color: var(--secondary);
        }

        /* Footer */
        footer {
            background-color: var(--dark);
            color: white;
            padding: 40px 0 20px;
            text-align: center;
            margin-top: 40px;
        }
        
        .footer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .footer-logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .footer-logo-img {
            height: 50px;
            width: auto;
            border-radius: 5px;
        }
        
        .footer-links {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .footer-links a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-links a:hover {
            color: var(--accent);
        }
        
        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }
        
        .social-links a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: white;
            font-size: 1.1rem;
            transition: all 0.3s;
        }
        
        .social-links a:hover {
            background-color: var(--primary);
            transform: translateY(-3px);
        }
        
        .copyright {
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.6);
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .hero h2 {
                font-size: 2.2rem;
            }
            
            .section-title h2 {
                font-size: 2rem;
            }
            
            nav ul {
                gap: 15px;
            }
            
            .heart-admin-btn {
                bottom: 20px;
                width: 55px;
                height: 55px;
                font-size: 1.3rem;
            }
            
            .whatsapp-float {
                bottom: 85px;
                right: 20px;
                width: 55px;
                height: 55px;
                font-size: 1.8rem;
            }
        }
        
        @media (max-width: 576px) {
            .hero {
                padding: 70px 0;
            }
            
            .hero h2 {
                font-size: 1.8rem;
            }
            
            .section-title h2 {
                font-size: 1.8rem;
            }
            
            .product-grid {
                grid-template-columns: 1fr;
            }
            
            nav ul {
                flex-direction: column;
                gap: 10px;
            }
            
            .heart-admin-btn {
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Admin Panel -->
    <div id="adminPanel" class="container">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <h3>Admin Panel: Upload & Manage Products</h3>
            <button onclick="closeAdminPanel()" style="background: none; border: none; font-size: 1.5rem; cursor: pointer; color: var(--primary);">&times;</button>
        </div>
        
        <div style="margin-bottom: 20px;">
            <h4>Upload New Item</h4>
            <input type="password" id="ghToken" class="admin-input" placeholder="GitHub Token (optional)">
            <input type="text" id="newItemName" class="admin-input" placeholder="Product Name">
            <select id="newItemCategory" class="admin-input">
                <option value="">Select Category</option>
                <option value="albayas">Albayas</option>
                <option value="kitchen">Kitchen Utensils</option>
                <option value="appliances">Home Appliances</option>
            </select>
            <p style="font-size: 0.9rem; color: #666; margin: 10px 0 5px;">Select Image or Video:</p>
            <input type="file" id="newItemFile" class="admin-input" accept="image/*,video/*">
            <button onclick="uploadToGithub()" class="btn" id="uploadBtn" style="margin-top: 15px;">Upload to Store</button>
            <p id="uploadStatus" style="margin-top: 10px; font-weight: bold;"></p>
        </div>
        
        <div>
            <h4>Quick Actions</h4>
            <button onclick="toggleAdminMode()" class="btn" style="background: var(--secondary); margin-right: 10px;">
                <i class="fas fa-edit"></i> Toggle Edit Mode
            </button>
            <button onclick="clearAllCustom()" class="btn" style="background: var(--error);">
                <i class="fas fa-trash"></i> Clear All Custom Items
            </button>
        </div>
    </div>

    <!-- Image Preview Modal -->
    <div id="imgModal" class="image-modal">
        <span class="close-modal" onclick="closeModal()">&times;</span>
        <img class="modal-content" id="fullImage">
    </div>

    <!-- Header -->
    <header>
        <div class="container header-container">
            <div class="logo">
                <img src="logo.jpg" alt="Leemaah's Store Logo" class="logo-img">
                <h1>Leemaah's <span>Store</span></h1>
            </div>
            <nav>
                <ul>
                    <li><a href="#home">Home</a></li>
                    <li><a href="#albayas">Albayas</a></li>
                    <li><a href="#kitchen">Kitchen Utensils</a></li>
                    <li><a href="#appliances">Home Appliances</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Heart Admin Button (Bottom Center) -->
    <button class="heart-admin-btn" onclick="toggleAdminPanel()" title="Admin Access">
        <i class="fas fa-heart"></i>
    </button>

    <!-- WhatsApp Floating Button -->
    <a href="https://wa.me/message/BFCJZDIJ5MTEE1" class="whatsapp-float" target="_blank" title="Order on WhatsApp">
        <i class="fab fa-whatsapp"></i>
    </a>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="container">
            <h2>Welcome to Leemaah's Store</h2>
            <p>We sell albayas, kitchen utensils, and home appliances that are very nice in quality and affordable in price. Patronize us and enjoy our hospitality ðŸ¥°.</p>
            <p>We are here always 24/7 to receive your orders and make quick and sharp delivery. Thank you ðŸ¥°</p>
            <a href="https://wa.me/message/BFCJZDIJ5MTEE1" class="btn btn-whatsapp" target="_blank">
                <i class="fab fa-whatsapp"></i> Order on WhatsApp
            </a>
        </div>
    </section>

    <!-- Albayas Section -->
    <section class="category-section" id="albayas">
        <div class="container">
            <h2 class="section-title">Beautiful Albayas</h2>
            <p style="text-align: center; margin-bottom: 30px; color: #666;">Elegant and modest clothing for women - 41+ designs available</p>
            <div class="product-grid" id="albayasGrid"></div>
            
            <div style="text-align: center; margin-top: 30px;">
                <p>We have beautiful albaya designs available! Send us a message on WhatsApp to see the full collection.</p>
                <a href="https://wa.me/message/BFCJZDIJ5MTEE1" class="whatsapp-order-btn" target="_blank" style="display: inline-flex; margin-top: 15px;">
                    <i class="fab fa-whatsapp"></i> View All Albayas on WhatsApp
                </a>
            </div>
        </div>
    </section>

    <!-- Kitchen Utensils Section -->
    <section class="category-section" id="kitchen">
        <div class="container">
            <h2 class="section-title">Kitchen Utensils</h2>
            <p style="text-align: center; margin-bottom: 30px; color: #666;">Quality tools for your culinary needs - 50+ items available</p>
            <div class="product-grid" id="kitchenGrid"></div>
            
            <div style="text-align: center; margin-top: 30px;">
                <p>We have different kitchen utensils! Contact us on WhatsApp to see more.</p>
                <a href="https://wa.me/message/BFCJZDIJ5MTEE1" class="whatsapp-order-btn" target="_blank" style="display: inline-flex; margin-top: 15px;">
                    <i class="fab fa-whatsapp"></i> View All Kitchen Items on WhatsApp
                </a>
            </div>
        </div>
    </section>

    <!-- Home Appliances Section -->
    <section class="category-section" id="appliances">
        <div class="container">
            <h2 class="section-title">Home Appliances</h2>
            <p style="text-align: center; margin-bottom: 30px; color: #666;">Essential appliances for your home - Available items</p>
            <div class="product-grid" id="appliancesGrid"></div>
            
            <div style="text-align: center; margin-top: 30px;">
                <p>We have home appliances and demonstration videos! Message us on WhatsApp for more details.</p>
                <a href="https://wa.me/message/BFCJZDIJ5MTEE1" class="whatsapp-order-btn" target="_blank" style="display: inline-flex; margin-top: 15px;">
                    <i class="fab fa-whatsapp"></i> View All Appliances on WhatsApp
                </a>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="category-section" id="contact">
        <div class="container">
            <h2 class="section-title">Contact Us</h2>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 40px; align-items: start;">
                <div style="display: flex; flex-direction: column; gap: 25px;">
                    <div style="display: flex; align-items: flex-start; gap: 15px;">
                        <div style="background-color: var(--light); min-width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; color: var(--primary);">
                            <i class="fab fa-whatsapp"></i>
                        </div>
                        <div>
                            <h3 style="font-size: 1.2rem; margin-bottom: 5px;">WhatsApp Orders</h3>
                            <p style="opacity: 0.8;">Click the button below to order directly via WhatsApp</p>
                            <a href="https://wa.me/message/BFCJZDIJ5MTEE1" class="whatsapp-order-btn" target="_blank" style="margin-top: 10px; width: fit-content;">
                                <i class="fab fa-whatsapp"></i> Order Now
                            </a>
                        </div>
                    </div>
                    
                    <div style="display: flex; align-items: flex-start; gap: 15px;">
                        <div style="background-color: var(--light); min-width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; color: var(--primary);">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div>
                            <h3 style="font-size: 1.2rem; margin-bottom: 5px;">Email Address</h3>
                            <p style="opacity: 0.8;">halimatiamuju@gmail.com</p>
                            <p style="opacity: 0.8;">Send us an email for bulk orders or inquiries</p>
                        </div>
                    </div>
                    
                    <div style="display: flex; align-items: flex-start; gap: 15px;">
                        <div style="background-color: var(--light); min-width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; color: var(--primary);">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div>
                            <h3 style="font-size: 1.2rem; margin-bottom: 5px;">Business Hours</h3>
                            <p style="opacity: 0.8;">24 Hours, 7 Days a Week</p>
                            <p style="opacity: 0.8;">We're always available to take your orders!</p>
                        </div>
                    </div>
                    
                    <div style="display: flex; align-items: flex-start; gap: 15px;">
                        <div style="background-color: var(--light); min-width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; color: var(--primary);">
                            <i class="fas fa-shipping-fast"></i>
                        </div>
                        <div>
                            <h3 style="font-size: 1.2rem; margin-bottom: 5px;">Delivery</h3>
                            <p style="opacity: 0.8;">Nationwide Delivery Available</p>
                            <p style="opacity: 0.8;">Quick and reliable delivery to your location</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <img src="logo.jpg" alt="Leemaah's Store Logo" class="footer-logo-img">
                    <h3 style="color: white;">Leemaah's Store</h3>
                </div>
                <p>Your trusted source for albayas, kitchen utensils, and home appliances</p>
                <div class="footer-links">
                    <a href="#home">Home</a>
                    <a href="#albayas">Albayas</a>
                    <a href="#kitchen">Kitchen Utensils</a>
                    <a href="#appliances">Home Appliances</a>
                    <a href="#contact">Contact</a>
                </div>
                
                <div class="social-links">
                    <a href="https://wa.me/message/BFCJZDIJ5MTEE1" target="_blank" title="WhatsApp">
                        <i class="fab fa-whatsapp"></i>
                    </a>
                    <a href="mailto:halimatiamuju@gmail.com" title="Email">
                        <i class="fas fa-envelope"></i>
                    </a>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 Leemaah's Store. All rights reserved. | Designed with <i class="fas fa-heart" style="color: #ff4081;"></i> for quality shopping experience</p>
            </div>
        </div>
    </footer>

    <script>
        // --- 1. CORE UI FUNCTIONS ---
        function toggleAdminPanel() {
            const panel = document.getElementById('adminPanel');
            const heartBtn = document.querySelector('.heart-admin-btn');
            
            if (panel.style.display === 'block') {
                closeAdminPanel();
            } else {
                // Check password first
                const password = prompt("Enter Admin Password:");
                if (password === "leemah2024") {
                    panel.style.display = 'block';
                    heartBtn.classList.add('active');
                    document.body.classList.add('admin-mode');
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                } else {
                    alert("Incorrect password!");
                }
            }
        }
        
        function closeAdminPanel() {
            document.getElementById('adminPanel').style.display = 'none';
            document.querySelector('.heart-admin-btn').classList.remove('active');
            document.body.classList.remove('admin-mode');
        }
        
        function toggleAdminMode() {
            document.body.classList.toggle('admin-mode');
            const heartBtn = document.querySelector('.heart-admin-btn');
            if (document.body.classList.contains('admin-mode')) {
                heartBtn.classList.add('active');
            } else {
                heartBtn.classList.remove('active');
            }
        }
        
        // Image Modal Functions
        function openModal(src) {
            document.getElementById('imgModal').style.display = 'block';
            document.getElementById('fullImage').src = src;
        }
        
        function closeModal() {
            document.getElementById('imgModal').style.display = 'none';
        }
        
        // Close modal when clicking outside the image
        document.getElementById('imgModal').onclick = function(e) {
            if (e.target === this) {
                closeModal();
            }
        };

        // --- 2. PRODUCT MANAGEMENT FUNCTIONS ---
        function editItem(id, currentName, isCustom) {
            const newName = prompt("Edit Product Name:", currentName);
            if (!newName || newName === currentName) return;
            
            if (isCustom) {
                let products = JSON.parse(localStorage.getItem('customProducts') || '[]');
                const index = products.findIndex(x => x.id == id);
                if (index !== -1) {
                    products[index].name = newName;
                    localStorage.setItem('customProducts', JSON.stringify(products));
                    location.reload();
                }
            } else {
                let overrides = JSON.parse(localStorage.getItem('nameOverrides') || '{}');
                overrides[id] = newName;
                localStorage.setItem('nameOverrides', JSON.stringify(overrides));
                location.reload();
            }
        }

        function deleteItem(id, isCustom) {
            if (!confirm("Are you sure you want to delete this item?")) return;
            
            if (isCustom) {
                let products = JSON.parse(localStorage.getItem('customProducts') || '[]');
                products = products.filter(x => x.id != id);
                localStorage.setItem('customProducts', JSON.stringify(products));
            } else {
                let deleted = JSON.parse(localStorage.getItem('deletedItems') || '[]');
                if (!deleted.includes(id)) {
                    deleted.push(id);
                    localStorage.setItem('deletedItems', JSON.stringify(deleted));
                }
            }
            
            location.reload();
        }
        
        function clearAllCustom() {
            if (confirm("Are you sure you want to delete ALL custom uploaded items?")) {
                localStorage.removeItem('customProducts');
                localStorage.removeItem('nameOverrides');
                localStorage.removeItem('deletedItems');
                alert("All custom items have been removed.");
                location.reload();
            }
        }

        // --- 3. UPLOAD FUNCTION (SUPPORTS IMAGES & VIDEOS) ---
        async function uploadToGithub() {
            const token = document.getElementById('ghToken').value;
            const fileInput = document.getElementById('newItemFile');
            const name = document.getElementById('newItemName').value;
            const category = document.getElementById('newItemCategory').value;
            const status = document.getElementById('uploadStatus');
            const uploadBtn = document.getElementById('uploadBtn');

            if (!fileInput.files[0] || !name || !category) { 
                alert("Please fill in Product Name, Category, and select a file!"); 
                return; 
            }

            const file = fileInput.files[0];
            const isVideo = file.type.includes('video');
            
            // Disable button during upload
            uploadBtn.disabled = true;
            uploadBtn.innerHTML = "Uploading...";
            status.innerText = isVideo ? "Uploading video... Please wait." : "Uploading image...";
            status.style.color = "#666";

            const reader = new FileReader();
            reader.onload = async function() {
                try {
                    // Get the base64 content
                    const base64Content = reader.result.split(',')[1];
                    
                    // If GitHub token is provided, upload to GitHub
                    if (token) {
                        const fileName = `uploads/${Date.now()}-${file.name.replace(/\s+/g, '-')}`;
                        const url = `https://api.github.com/repos/Freeman45/Leemah-store/contents/${fileName}`;

                        const response = await fetch(url, {
                            method: 'PUT',
                            headers: { 
                                'Authorization': `token ${token}`, 
                                'Content-Type': 'application/json' 
                            },
                            body: JSON.stringify({ 
                                message: `Add ${name} to ${category}`, 
                                content: base64Content,
                                encoding: 'base64'
                            })
                        });

                        if (response.ok) {
                            const resData = await response.json();
                            const fileUrl = resData.content.download_url;
                            saveProductLocally(name, category, fileUrl, isVideo, Date.now());
                        } else {
                            throw new Error("GitHub upload failed");
                        }
                    } else {
                        // Save locally only
                        saveProductLocally(name, category, reader.result, isVideo, Date.now());
                    }
                    
                    // Reset form
                    document.getElementById('newItemName').value = '';
                    document.getElementById('newItemFile').value = '';
                    
                } catch (e) {
                    status.style.color = "red";
                    status.innerText = "Upload failed. " + e.message;
                } finally {
                    uploadBtn.disabled = false;
                    uploadBtn.innerHTML = "Upload to Store";
                }
            };
            
            reader.onerror = function() {
                status.innerText = "Error reading file";
                uploadBtn.disabled = false;
                uploadBtn.innerHTML = "Upload to Store";
            };
            
            reader.readAsDataURL(file);
        }
        
        function saveProductLocally(name, category, src, isVideo, id) {
            const status = document.getElementById('uploadStatus');
            
            const newProduct = { 
                id: id,
                name: name, 
                category: category, 
                src: src, 
                type: isVideo ? 'video' : 'image',
                isCustom: true
            };
            
            const savedProducts = JSON.parse(localStorage.getItem('customProducts') || '[]');
            savedProducts.push(newProduct);
            localStorage.setItem('customProducts', JSON.stringify(savedProducts));
            
            status.style.color = "green";
            status.innerText = "Product added successfully!";
            
            setTimeout(() => {
                status.innerText = "";
                location.reload();
            }, 1500);
        }

        // --- 4. PRODUCT RENDERING FUNCTION ---
        function createCard(category, src, name, type, id, isCustom = false) {
            const grid = document.getElementById(category + 'Grid');
            if (!grid) return;
            
            // Check if item is deleted
            const deletedItems = JSON.parse(localStorage.getItem('deletedItems') || '[]');
            if (deletedItems.includes(id)) return;
            
            // Check for name overrides
            const nameOverrides = JSON.parse(localStorage.getItem('nameOverrides') || '{}');
            const displayName = nameOverrides[id] || name;
            
            const card = document.createElement('div');
            card.className = `${category}-card product-card`;
            
            let mediaContent = '';
            if (type === 'video' || src.includes('.mp4') || src.includes('.mov')) {
                mediaContent = `
                    <div class="video-icon"><i class="fas fa-play"></i></div>
                    <video src="${src}" controls class="product-video" preload="metadata">
                        Your browser does not support the video tag.
                    </video>
                `;
            } else {
                mediaContent = `<img src="${src}" class="product-img" onclick="openModal('${src}')" alt="${displayName}" onerror="this.src='https://via.placeholder.com/300x220?text=Image+Not+Found'">`;
            }
            
            card.innerHTML = `
                <div class="admin-controls">
                    <button class="ctrl-btn edit-btn" onclick="editItem('${id}', '${displayName}', ${isCustom})" title="Edit">
                        <i class="fas fa-pencil-alt"></i>
                    </button>
                    <button class="ctrl-btn delete-btn" onclick="deleteItem('${id}', ${isCustom})" title="Delete">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
                <div class="media-container">
                    ${mediaContent}
                </div>
                <div class="product-content">
                    <h3>${displayName}</h3>
                    <p>Premium quality item from Leemaah's Store.</p>
                    <a href="https://wa.me/message/BFCJZDIJ5MTEE1?text=${encodeURIComponent(`Hello! I'm interested in: ${displayName}. I saw it on your website.`)}" class="whatsapp-order-btn" target="_blank">
                        <i class="fab fa-whatsapp"></i> Order Now
                    </a>
                </div>`;
            
            grid.appendChild(card);
        }

        // --- 5. INITIAL DATA AND PAGE LOAD ---
        const baseData = {
            albayas: {
                images: Array.from({length: 41}, (_, i) => ({
                    id: `a${i+1}`,
                    name: `Albaya Design ${i+1}`,
                    src: `a${i+1}.jpg`,
                    type: 'image'
                })),
                videos: [
                    {id: 'av1', name: 'Albaya Collection Video', src: 'av1.mp4', type: 'video'}
                ]
            },
            kitchen: {
                images: Array.from({length: 50}, (_, i) => ({
                    id: `k${i+1}`,
                    name: `Kitchen Utensil ${i+1}`,
                    src: `ku${i+1}.jpg`,
                    type: 'image'
                })),
                videos: []
            },
            appliances: {
                images: [
                    {id: 'ha1', name: 'Blender & Food Processor', src: 'ha1.jpg', type: 'image'},
                    {id: 'ha2', name: 'Electric Kettle', src: 'ha2.jpg', type: 'image'},
                    {id: 'ha3', name: 'Air Purifier', src: 'ha3.jpg', type: 'image'},
                    {id: 'ha4', name: 'Toaster Oven', src: 'ha4.jpg', type: 'image'}
                ],
                videos: [
                    {id: 'hav1', name: 'Home Appliance Demo 1', src: 'hav1.mp4', type: 'video'},
                    {id: 'hav2', name: 'Home Appliance Demo 2', src: 'hav2.mp4', type: 'video'},
                    {id: 'hav5', name: 'Home Appliance Demo 5', src: 'hav5.mp4', type: 'video'},
                    {id: 'hav6', name: 'Home Appliance Demo 6', src: 'hav6.mp4', type: 'video'},
                    {id: 'hav8', name: 'Home Appliance Demo 8', src: 'hav8.mp4', type: 'video'}
                ]
            }
        };

        // Load all products when page loads
        document.addEventListener('DOMContentLoaded', () => {
            // Load base products
            Object.keys(baseData).forEach(category => {
                // Load images
                baseData[category].images.forEach(item => {
                    createCard(category, item.src, item.name, item.type, item.id, false);
                });
                // Load videos
                baseData[category].videos.forEach(video => {
                    createCard(category, video.src, video.name, video.type, video.id, false);
                });
            });

            // Load custom uploaded products
            const customProducts = JSON.parse(localStorage.getItem('customProducts') || '[]');
            customProducts.forEach(product => {
                createCard(product.category, product.src, product.name, product.type, product.id, true);
            });
            
            // Close admin panel by default
            closeAdminPanel();
        });

        // Keyboard shortcut for admin panel (Ctrl + Alt + H for Heart)
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.altKey && e.code === 'KeyH') {
                toggleAdminPanel();
            }
        });
    </script>
</body>
</html>
