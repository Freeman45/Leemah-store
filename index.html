<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leemaah's Store | Albayas, Kitchen Utensils & Home Appliances</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@400;600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        /* ... (ALL YOUR EXISTING CSS STYLES REMAIN THE SAME) ... */
        
        /* Image Modal - Full Screen View - FIXED */
        .image-modal {
            display: none;
            position: fixed;
            z-index: 1001;
            padding: 50px 0;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            animation: fadeIn 0.3s ease;
            overflow: auto;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            margin: auto;
            display: block;
            max-width: 90%;
            max-height: 90vh;
            border-radius: 5px;
            box-shadow: 0 5px 30px rgba(0, 0, 0, 0.5);
            animation: zoomIn 0.3s ease;
        }

        @keyframes zoomIn {
            from { transform: scale(0.9); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .modal-video {
            max-width: 90%;
            max-height: 90vh;
            width: auto;
            height: auto;
        }

        .modal-title {
            color: white;
            text-align: center;
            padding: 15px 0;
            font-size: 1.5rem;
            max-width: 90%;
            margin: 0 auto;
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 30px;
            color: white;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s;
            z-index: 1002;
            background: none;
            border: none;
            padding: 0;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-close:hover {
            color: var(--secondary);
        }

        .modal-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            color: white;
            font-size: 30px;
            cursor: pointer;
            background-color: rgba(0, 0, 0, 0.5);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            border: none;
            z-index: 1002;
        }

        .modal-nav:hover {
            background-color: var(--primary);
        }

        .modal-prev {
            left: 30px;
        }

        .modal-next {
            right: 30px;
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .modal-nav {
                width: 40px;
                height: 40px;
                font-size: 24px;
            }
            
            .modal-prev {
                left: 10px;
            }
            
            .modal-next {
                right: 10px;
            }
            
            .modal-close {
                top: 10px;
                right: 20px;
                font-size: 35px;
            }
        }

        @media (max-width: 576px) {
            .image-modal {
                padding: 20px 0;
            }
            
            .modal-content {
                max-width: 95%;
            }
        }
    </style>
</head>
<body>
    <!-- Header Section -->
    <header>
        <div class="container header-container">
            <div class="logo">
                <img src="logo.jpg" alt="Leemaah's Store Logo" class="logo-img">
                <h1>Leemaah's <span>Store</span></h1>
            </div>
            
            <div class="mobile-toggle" id="mobileToggle">
                <i class="fas fa-bars"></i>
            </div>
            
            <nav id="mainNav">
                <ul>
                    <li><a href="#home">Home</a></li>
                    <li><a href="#albayas">Albayas</a></li>
                    <li><a href="#kitchen">Kitchen Utensils</a></li>
                    <li><a href="#appliances">Home Appliances</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- WhatsApp Floating Button -->
    <a href="https://wa.me/message/BFCJZDIJ5MTEE1" class="whatsapp-float" target="_blank" title="Order on WhatsApp">
        <i class="fab fa-whatsapp"></i>
    </a>

    <!-- Image Modal for Full Screen View -->
    <div id="imageModal" class="image-modal">
        <button class="modal-close">&times;</button>
        <button class="modal-nav modal-prev"><i class="fas fa-chevron-left"></i></button>
        <button class="modal-nav modal-next"><i class="fas fa-chevron-right"></i></button>
        <div class="modal-container">
            <h3 class="modal-title" id="modalImageTitle"></h3>
            <img class="modal-content" id="modalImage" style="display: none;">
            <video class="modal-content modal-video" id="modalVideo" controls style="display: none;"></video>
        </div>
    </div>

    <!-- ... (ALL YOUR EXISTING HTML SECTIONS REMAIN THE SAME) ... -->

    <script>
        // Mobile Navigation Toggle
        const mobileToggle = document.getElementById('mobileToggle');
        const mainNav = document.getElementById('mainNav');
        
        mobileToggle.addEventListener('click', () => {
            mainNav.classList.toggle('active');
            mobileToggle.innerHTML = mainNav.classList.contains('active') 
                ? '<i class="fas fa-times"></i>' 
                : '<i class="fas fa-bars"></i>';
        });
        
        // Close mobile menu when clicking a link
        document.querySelectorAll('nav a').forEach(link => {
            link.addEventListener('click', () => {
                mainNav.classList.remove('active');
                mobileToggle.innerHTML = '<i class="fas fa-bars"></i>';
            });
        });
        
        // Contact Form Submission
        const contactForm = document.getElementById('contactForm');
        if (contactForm) {
            contactForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const name = document.getElementById('name').value;
                const email = document.getElementById('email').value;
                const subject = document.getElementById('subject').value;
                const message = document.getElementById('message').value;
                
                alert(`Thank you ${name}! Your message has been sent. We'll get back to you soon.`);
                
                const mailtoLink = `mailto:halimatiamuju@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(`Name: ${name}\nEmail: ${email}\n\nMessage: ${message}`)}`;
                window.location.href = mailtoLink;
                
                contactForm.reset();
            });
        }
        
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                if(targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if(targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                }
            });
        });
        
        // Image Modal Variables - FIXED
        const modal = document.getElementById("imageModal");
        const modalImg = document.getElementById("modalImage");
        const modalVideo = document.getElementById("modalVideo");
        const modalTitle = document.getElementById("modalImageTitle");
        const closeBtn = document.querySelector(".modal-close");
        const prevBtn = document.querySelector(".modal-prev");
        const nextBtn = document.querySelector(".modal-next");
        
        // Store all media items for navigation
        let allMediaItems = [];
        let currentMediaIndex = 0;
        
        // Image data - Load images/videos from local folder (simpler method)
        const imageData = {
            albayas: {
                images: [
                    { src: "a1.jpg", alt: "Albaya Design 1", title: "Elegant Embroidered Albaya 1" },
                    { src: "a2.jpg", alt: "Albaya Design 2", title: "Beautiful Albaya Design 2" },
                    { src: "a3.jpg", alt: "Albaya Design 3", title: "Luxury Silk Albaya 3" },
                    { src: "a4.jpg", alt: "Albaya Design 4", title: "Casual Everyday Albaya 4" },
                    { src: "a5.jpg", alt: "Albaya Design 5", title: "Elegant Albaya Design 5" },
                    { src: "a6.jpg", alt: "Albaya Design 6", title: "Stylish Albaya 6" },
                    { src: "a7.jpg", alt: "Albaya Design 7", title: "Modern Albaya Design 7" },
                    { src: "a8.jpg", alt: "Albaya Design 8", title: "Traditional Albaya 8" },
                    { src: "a9.jpg", alt: "Albaya Design 9", title: "Fashionable Albaya 9" },
                    { src: "a10.jpg", alt: "Albaya Design 10", title: "Elegant Albaya 10" },
                    { src: "a11.jpg", alt: "Albaya Design 11", title: "Beautiful Albaya 11" },
                    { src: "a12.jpg", alt: "Albaya Design 12", title: "Luxury Albaya 12" },
                    { src: "a13.jpg", alt: "Albaya Design 13", title: "Casual Albaya 13" },
                    { src: "a14.jpg", alt: "Albaya Design 14", title: "Elegant Albaya 14" },
                    { src: "a15.jpg", alt: "Albaya Design 15", title: "Stylish Albaya 15" },
                    { src: "a16.jpg", alt: "Albaya Design 16", title: "Modern Albaya 16" },
                    { src: "a17.jpg", alt: "Albaya Design 17", title: "Traditional Albaya 17" },
                    { src: "a18.jpg", alt: "Albaya Design 18", title: "Fashionable Albaya 18" },
                    { src: "a19.jpg", alt: "Albaya Design 19", title: "Elegant Albaya 19" },
                    { src: "a20.jpg", alt: "Albaya Design 20", title: "Beautiful Albaya 20" },
                    { src: "a21.jpg", alt: "Albaya Design 21", title: "Luxury Albaya 21" },
                    { src: "a22.jpg", alt: "Albaya Design 22", title: "Casual Albaya 22" },
                    { src: "a23.jpg", alt: "Albaya Design 23", title: "Elegant Albaya 23" },
                    { src: "a24.jpg", alt: "Albaya Design 24", title: "Stylish Albaya 24" },
                    { src: "a25.jpg", alt: "Albaya Design 25", title: "Modern Albaya 25" },
                    { src: "a26.jpg", alt: "Albaya Design 26", title: "Traditional Albaya 26" },
                    { src: "a27.jpg", alt: "Albaya Design 27", title: "Fashionable Albaya 27" },
                    { src: "a28.jpg", alt: "Albaya Design 28", title: "Elegant Albaya 28" },
                    { src: "a29.jpg", alt: "Albaya Design 29", title: "Beautiful Albaya 29" },
                    { src: "a30.jpg", alt: "Albaya Design 30", title: "Luxury Albaya 30" },
                    { src: "a31.jpg", alt: "Albaya Design 31", title: "Casual Albaya 31" },
                    { src: "a32.jpg", alt: "Albaya Design 32", title: "Elegant Albaya 32" },
                    { src: "a33.jpg", alt: "Albaya Design 33", title: "Stylish Albaya 33" },
                    { src: "a34.jpg", alt: "Albaya Design 34", title: "Modern Albaya 34" },
                    { src: "a35.jpg", alt: "Albaya Design 35", title: "Traditional Albaya 35" },
                    { src: "a36.jpg", alt: "Albaya Design 36", title: "Fashionable Albaya 36" },
                    { src: "a37.jpg", alt: "Albaya Design 37", title: "Elegant Albaya 37" },
                    { src: "a38.jpg", alt: "Albaya Design 38", title: "Beautiful Albaya 38" },
                    { src: "a39.jpg", alt: "Albaya Design 39", title: "Luxury Albaya 39" },
                    { src: "a40.jpg", alt: "Albaya Design 40", title: "Casual Albaya 40" },
                    { src: "a41.jpg", alt: "Albaya Design 41", title: "Elegant Albaya 41" }
                ],
                videos: [
                    { src: "av1.mp4", alt: "Albaya Collection Video", title: "Albaya Collection Video", thumbnail: "a1.jpg", isVideo: true }
                ],
                description: "Beautifully designed albaya with intricate embroidery. Perfect for special occasions."
            },

            kitchen: {
                images: [
                    { src: "ku1.jpg", alt: "Kitchen Utensil 1", title: "Non-Stick Cookware Set" },
                    { src: "ku2.jpg", alt: "Kitchen Utensil 2", title: "Stainless Steel Utensil Set" },
                    { src: "ku3.jpg", alt: "Kitchen Utensil 3", title: "Ceramic Dinnerware Set" },
                    { src: "ku4.jpg", alt: "Kitchen Utensil 4", title: "Cutlery Set" },
                    { src: "ku5.jpg", alt: "Kitchen Utensil 5", title: "Mixing Bowls" },
                    { src: "ku10.jpg", alt: "Kitchen Utensil 10", title: "Baking Tools" },
                    { src: "ku11.jpg", alt: "Kitchen Utensil 11", title: "Kitchen Knives Set" },
                    { src: "ku12.jpg", alt: "Kitchen Utensil 12", title: "Measuring Cups" },
                    { src: "ku13.jpg", alt: "Kitchen Utensil 13", title: "Food Storage Containers" },
                    { src: "ku14.jpg", alt: "Kitchen Utensil 14", title: "Spatula Set" },
                    { src: "ku15.jpg", alt: "Kitchen Utensil 15", title: "Kitchen Timer" },
                    { src: "ku16.jpg", alt: "Kitchen Utensil 16", title: "Colander" },
                    { src: "ku17.jpg", alt: "Kitchen Utensil 17", title: "Grater" },
                    { src: "ku18.jpg", alt: "Kitchen Utensil 18", title: "Peeler" },
                    { src: "ku19.jpg", alt: "Kitchen Utensil 19", title: "Can Opener" },
                    { src: "ku20.jpg", alt: "Kitchen Utensil 20", title: "Bottle Opener" },
                    { src: "ku21.jpg", alt: "Kitchen Utensil 21", title: "Kitchen Scissors" },
                    { src: "ku22.jpg", alt: "Kitchen Utensil 22", title: "Tongs" },
                    { src: "ku23.jpg", alt: "Kitchen Utensil 23", title: "Whisk" },
                    { src: "ku24.jpg", alt: "Kitchen Utensil 24", title: "Ladle" },
                    { src: "ku25.jpg", alt: "Kitchen Utensil 25", title: "Slotted Spoon" },
                    { src: "ku26.jpg", alt: "Kitchen Utensil 26", title: "Solid Spoon" },
                    { src: "ku27.jpg", alt: "Kitchen Utensil 27", title: "Serving Spoons" },
                    { src: "ku28.jpg", alt: "Kitchen Utensil 28", title: "Kitchen Scale" },
                    { src: "ku29.jpg", alt: "Kitchen Utensil 29", title: "Mixing Spoons" },
                    { src: "ku30.jpg", alt: "Kitchen Utensil 30", title: "Kitchen Brush" },
                    { src: "ku31.jpg", alt: "Kitchen Utensil 31", title: "Potato Masher" },
                    { src: "ku32.jpg", alt: "Kitchen Utensil 32", title: "Garlic Press" },
                    { src: "ku33.jpg", alt: "Kitchen Utensil 33", title: "Ice Cream Scoop" },
                    { src: "ku34.jpg", alt: "Kitchen Utensil 34", title: "Pizza Cutter" },
                    { src: "ku35.jpg", alt: "Kitchen Utensil 35", title: "Egg Slicer" },
                    { src: "ku36.jpg", alt: "Kitchen Utensil 36", title: "Vegetable Chopper" },
                    { src: "ku37.jpg", alt: "Kitchen Utensil 37", title: "Salad Spinner" },
                    { src: "ku38.jpg", alt: "Kitchen Utensil 38", title: "Strainer" },
                    { src: "ku39.jpg", alt: "Kitchen Utensil 39", title: "Tea Infuser" },
                    { src: "ku40.jpg", alt: "Kitchen Utensil 40", title: "Coffee Grinder" },
                    { src: "ku41.jpg", alt: "Kitchen Utensil 41", title: "Blender" },
                    { src: "ku42.jpg", alt: "Kitchen Utensil 42", title: "Food Processor" },
                    { src: "ku43.jpg", alt: "Kitchen Utensil 43", title: "Toaster" },
                    { src: "ku44.jpg", alt: "Kitchen Utensil 44", title: "Electric Kettle" },
                    { src: "ku45.jpg", alt: "Kitchen Utensil 45", title: "Rice Cooker" },
                    { src: "ku46.jpg", alt: "Kitchen Utensil 46", title: "Slow Cooker" },
                    { src: "ku47.jpg", alt: "Kitchen Utensil 47", title: "Pressure Cooker" },
                    { src: "ku48.jpg", alt: "Kitchen Utensil 48", title: "Waffle Maker" },
                    { src: "ku49.jpg", alt: "Kitchen Utensil 49", title: "Sandwich Maker" },
                    { src: "ku50.jpg", alt: "Kitchen Utensil 50", title: "Griddle" }
                ],
                videos: [],
                description: "High quality kitchen utensils for your daily cooking needs."
            },

            appliances: {
                images: [
                    { src: "ha1.jpg", alt: "Home Appliance 1", title: "Blender & Food Processor" },
                    { src: "ha2.jpg", alt: "Home Appliance 2", title: "Electric Kettle" },
                    { src: "ha3.jpg", alt: "Home Appliance 3", title: "Air Purifier" },
                    { src: "ha4.jpg", alt: "Home Appliance 4", title: "Toaster Oven" }
                ],
                videos: [
                    { src: "hav1.mp4", alt: "Home Appliance Video 1", title: "Home Appliance Demo 1", thumbnail: "ha1.jpg", isVideo: true },
                    { src: "hav2.mp4", alt: "Home Appliance Video 2", title: "Home Appliance Demo 2", thumbnail: "ha2.jpg", isVideo: true },
                    { src: "hav5.mp4", alt: "Home Appliance Video 5", title: "Home Appliance Demo 5", thumbnail: "ha3.jpg", isVideo: true },
                    { src: "hav6.mp4", alt: "Home Appliance Video 6", title: "Home Appliance Demo 6", thumbnail: "ha4.jpg", isVideo: true },
                    { src: "hav8.mp4", alt: "Home Appliance Video 8", title: "Home Appliance Demo 8", thumbnail: "ha1.jpg", isVideo: true }
                ],
                description: "Essential home appliances for everyday convenience."
            }
        };

        // Function to open modal with image or video - FIXED
        function openModal(mediaItem, index) {
            currentMediaIndex = index;
            
            // Hide both initially
            modalImg.style.display = "none";
            modalVideo.style.display = "none";
            
            if (mediaItem.isVideo) {
                // It's a video
                modalVideo.src = mediaItem.src;
                modalVideo.style.display = "block";
                modalVideo.poster = mediaItem.thumbnail || "";
                modalTitle.textContent = mediaItem.title;
                modalVideo.play().catch(e => console.log("Autoplay prevented:", e));
            } else {
                // It's an image
                modalImg.src = mediaItem.src;
                modalImg.alt = mediaItem.alt;
                modalImg.style.display = "block";
                modalTitle.textContent = mediaItem.title;
            }
            
            modal.style.display = "block";
            document.body.style.overflow = "hidden"; // Prevent scrolling
            
            // Update navigation buttons
            prevBtn.style.display = allMediaItems.length > 1 ? "flex" : "none";
            nextBtn.style.display = allMediaItems.length > 1 ? "flex" : "none";
        }

        // Function to navigate to next media
        function nextMedia() {
            currentMediaIndex = (currentMediaIndex + 1) % allMediaItems.length;
            openModal(allMediaItems[currentMediaIndex], currentMediaIndex);
        }

        // Function to navigate to previous media
        function prevMedia() {
            currentMediaIndex = (currentMediaIndex - 1 + allMediaItems.length) % allMediaItems.length;
            openModal(allMediaItems[currentMediaIndex], currentMediaIndex);
        }

        // Close modal when clicking X - FIXED
        closeBtn.addEventListener('click', function() {
            modal.style.display = "none";
            document.body.style.overflow = "auto"; // Re-enable scrolling
            modalVideo.pause(); // Pause video when closing modal
            modalVideo.currentTime = 0; // Reset video to start
        });

        // Close modal when clicking outside the image - FIXED
        modal.addEventListener('click', function(event) {
            if (event.target === modal) {
                modal.style.display = "none";
                document.body.style.overflow = "auto";
                modalVideo.pause();
                modalVideo.currentTime = 0;
            }
        });

        // Keyboard navigation - FIXED
        document.addEventListener('keydown', function(event) {
            if (modal.style.display === "block") {
                if (event.key === "Escape") {
                    modal.style.display = "none";
                    document.body.style.overflow = "auto";
                    modalVideo.pause();
                    modalVideo.currentTime = 0;
                } else if (event.key === "ArrowRight") {
                    nextMedia();
                } else if (event.key === "ArrowLeft") {
                    prevMedia();
                }
            }
        });

        // Next/Previous buttons - FIXED
        nextBtn.addEventListener('click', nextMedia);
        prevBtn.addEventListener('click', prevMedia);

        // Function to load images/videos dynamically with WhatsApp button and modal functionality - FIXED
        function loadProducts(categoryId, data) {
            const grid = document.getElementById(categoryId + "Grid");
            
            // Clear the grid first
            grid.innerHTML = '';
            
            // Load images
            data.images.forEach((item, index) => {
                const card = document.createElement("div");
                card.className = `product-card ${categoryId}-card`;

                const mediaContainer = document.createElement("div");
                mediaContainer.className = "media-container";
                mediaContainer.style.cursor = "pointer";
                mediaContainer.title = "Click to view full size";

                const img = document.createElement("img");
                img.src = item.src;
                img.alt = item.alt;
                img.className = "product-img";
                img.onerror = function() {
                    this.onerror = null;
                    this.src = 'https://via.placeholder.com/300x220/cccccc/969696?text=Image+Loading';
                };

                mediaContainer.appendChild(img);
                card.appendChild(mediaContainer);

                const content = document.createElement("div");
                content.className = "product-content";
                content.innerHTML = `
                    <h3>${item.title}</h3>
                    <p>${data.description}</p>
                    <a href="https://wa.me/message/BFCJZDIJ5MTEE1?text=${encodeURIComponent(`Hello! I'm interested in: ${item.title}. I saw it on your website.`)}" class="whatsapp-order-btn" target="_blank">
                        <i class="fab fa-whatsapp"></i> Order This Item
                    </a>
                `;
                card.appendChild(content);

                grid.appendChild(card);
                
                // Store media item for modal
                const mediaItem = { ...item, category: categoryId };
                allMediaItems.push(mediaItem);
                
                // Add click event to open modal - FIXED
                const itemIndex = allMediaItems.length - 1;
                mediaContainer.addEventListener('click', () => openModal(mediaItem, itemIndex));
            });

            // Load videos
            data.videos.forEach((video, index) => {
                const card = document.createElement("div");
                card.className = `product-card ${categoryId}-card`;

                const mediaContainer = document.createElement("div");
                mediaContainer.className = "media-container";
                mediaContainer.style.cursor = "pointer";
                mediaContainer.title = "Click to view video";

                // Create thumbnail for video
                const img = document.createElement("img");
                img.src = video.thumbnail || "a1.jpg";
                img.alt = video.alt;
                img.className = "product-img";
                
                const videoIcon = document.createElement("div");
                videoIcon.className = "video-icon";
                videoIcon.innerHTML = '<i class="fas fa-play"></i>';

                mediaContainer.appendChild(img);
                mediaContainer.appendChild(videoIcon);
                card.appendChild(mediaContainer);

                const content = document.createElement("div");
                content.className = "product-content";
                content.innerHTML = `
                    <h3>${video.title}</h3>
                    <p>${data.description}</p>
                    <a href="https://wa.me/message/BFCJZDIJ5MTEE1?text=${encodeURIComponent(`Hello! I'm interested in: ${video.title}. I saw it on your website.`)}" class="whatsapp-order-btn" target="_blank">
                        <i class="fab fa-whatsapp"></i> Order This Item
                    </a>
                `;
                card.appendChild(content);

                grid.appendChild(card);
                
                // Store video item for modal
                const mediaItem = { ...video, isVideo: true, category: categoryId };
                allMediaItems.push(mediaItem);
                
                // Add click event to open modal - FIXED
                const itemIndex = allMediaItems.length - 1;
                mediaContainer.addEventListener('click', () => openModal(mediaItem, itemIndex));
            });
        }

        // Load all categories when page loads
        document.addEventListener('DOMContentLoaded', function() {
            loadProducts("albayas", imageData.albayas);
            loadProducts("kitchen", imageData.kitchen);
            loadProducts("appliances", imageData.appliances);
        });
    </script>
</body>
</html>


